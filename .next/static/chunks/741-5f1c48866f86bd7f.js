"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{2690:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(7437),a=r(2265),s=r(9376),i=r(970),l=r(4284),c=r(1344);function o(e){let{children:t,requiredRole:r,fallbackUrl:o="/start-case"}=e,d=(0,s.useRouter)(),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1);async function p(){try{let e=(0,i.e)(),{data:{user:t},error:n}=await e.auth.getUser();if(n||!t){h("Please sign in to access this portal."),y(!0);return}let{data:a,error:s}=await e.from("profiles").select("*").eq("id",t.id).single();if(s){h("Please complete your profile to access this portal."),y(!0);return}if(r&&a.role!==r){h("Access denied. This portal is for ".concat(r,"s only.")),y(!0);return}y(!0)}catch(e){console.error("Authentication error:",e),h("Authentication failed. Please sign in again."),y(!0)}finally{m(!1)}}return((0,a.useEffect)(()=>{p()},[d,r,o]),u||!f)?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(c.Z,{}),(0,n.jsx)("div",{className:"pt-32 pb-16",children:(0,n.jsx)("div",{className:"max-w-6xl mx-auto px-6",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-lg text-gray-600",children:"Checking authentication..."})]})})})]}):x?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(c.Z,{}),(0,n.jsx)("div",{className:"pt-32 pb-16",children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto px-6",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,n.jsx)("svg",{className:"w-12 h-12 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"patient"===r?"Patient Portal Access":"doctor"===r?"Doctor Portal Access":"Portal Access"}),(0,n.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:x}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("button",{onClick:()=>d.push("/start-case"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In / Register"]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>d.push("/"),className:"text-blue-600 hover:text-blue-800 font-medium",children:"← Back to Homepage"})})]})]})})})]}):(0,n.jsx)(n.Fragment,{children:t})}},4226:function(e,t,r){var n=r(7437),a=r(2265),s=r(4508);let i=a.forwardRef((e,t)=>{let{variant:r="primary",size:a="md",icon:i,iconPosition:l="left",loading:c=!1,className:o,children:d,disabled:u,...m}=e,x=(0,s.cn)("btn inline-flex items-center justify-center gap-2 font-medium transition-all duration-200 focus-visible:outline-2 focus-visible:outline-ring focus-visible:outline-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",outline:"btn-outline",link:"btn-link"}[r],{sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-base",lg:"px-6 py-3 text-lg"}[a],o);return(0,n.jsxs)("button",{ref:t,className:x,disabled:u||c,...m,children:[c&&(0,n.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),i&&"left"===l&&!c&&(0,n.jsx)(i,{className:"h-4 w-4"}),d,i&&"right"===l&&!c&&(0,n.jsx)(i,{className:"h-4 w-4"})]})});i.displayName="Button",t.Z=i},9178:function(e,t,r){r.d(t,{Ol:function(){return l},Zb:function(){return i},eW:function(){return c}});var n=r(7437),a=r(2265),s=r(4508);let i=a.forwardRef((e,t)=>{let{variant:r="default",padding:a="md",className:i,children:l,...c}=e,o=(0,s.cn)("card",{default:"bg-surface border-border",elevated:"bg-surface border-transparent shadow-lg",outlined:"bg-transparent border-border"}[r],{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[a],i);return(0,n.jsx)("div",{ref:t,className:o,...c,children:l})}),l=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("card-header",r),...i,children:a})}),c=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("card-body",r),...i,children:a})}),o=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("card-footer",r),...i,children:a})});i.displayName="Card",l.displayName="CardHeader",c.displayName="CardBody",o.displayName="CardFooter"},970:function(e,t,r){r.d(t,{e:function(){return a}});var n=r(6188);let a=()=>(0,n.createBrowserClient)("https://eqjpdytmsohfpohecczz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxanBkeXRtc29oZnBvaGVjY3p6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MzM1NzcsImV4cCI6MjA3NDQwOTU3N30.DDNR98O9E1rcWirNZPOuoSYjaUDSuReNcZQbZtxTjgQ")},4508:function(e,t,r){r.d(t,{cn:function(){return s}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},1047:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2735:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8736:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},4159:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},5337:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},2369:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9374:function(e,t,r){r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},9376:function(e,t,r){var n=r(5475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})}}]);